async function generateTranscript(channel) {
    const messages = await channel.messages.fetch({ limit: 100 });
    let htmlContent = `
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Transcript for ${channel.name}</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
          }
          .message {
            margin-bottom: 10px;
          }
          .user {
            font-weight: bold;
            color: #2f3136;
          }
          .content {
            padding-left: 15px;
          }
          .timestamp {
            font-size: 0.9em;
            color: gray;
          }
        </style>
      </head>
      <body>
        <h1>Transcript for Ticket: ${channel.name}</h1>
        <p>Ticket Closed: <time>${new Date().toLocaleString()}</time></p>
        <div>
    `;
  
    // Loop through the messages and format them
    messages.reverse().forEach(message => {
      htmlContent += `
        <div class="message">
          <p class="user">${message.author.tag} <span class="timestamp">(${new Date(message.createdTimestamp).toLocaleString()})</span></p>
          <p class="content">${message.content}</p>
        </div>
      `;
    });
  
    htmlContent += `
        </div>
        <p>End of Transcript</p>
      </body>
      </html>
    `;
  
    // Define the file path to save the transcript (locally, before uploading to hosting service)
    const filePath = path.join(__dirname, `transcripts/${channel.id}_transcript.html`);
  
    // Create the 'transcripts' directory if it doesn't exist
    if (!fs.existsSync(path.dirname(filePath))) {
      fs.mkdirSync(path.dirname(filePath), { recursive: true });
    }
  
    // Write the HTML content to the file
    fs.writeFileSync(filePath, htmlContent);
  
    // Return the file path (you'll upload this to a file host and return the URL)
    return filePath;
  }
  
